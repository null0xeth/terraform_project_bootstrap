<!-- BEGIN_TF_DOCS -->
== Requirements

[cols="a,a",options="header,autowidth"]
|===
|Name |Version
|[[requirement_aws]] <<requirement_aws,aws>> |~> 5.64.0
|[[requirement_random]] <<requirement_random,random>> |3.6.2
|===

== Providers

[cols="a,a",options="header,autowidth"]
|===
|Name |Version
|[[provider_aws]] <<provider_aws,aws>> |~> 5.64.0
|[[provider_random]] <<provider_random,random>> |3.6.2
|===

== Modules

No modules.

== Resources

[cols="a,a",options="header,autowidth"]
|===
|Name |Type
|https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/dynamodb_table[aws_dynamodb_table.terraform-state] |resource
|https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/kms_key[aws_kms_key.terraform-bucket-key] |resource
|https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket[aws_s3_bucket.terraform-state] |resource
|https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_object_lock_configuration[aws_s3_bucket_object_lock_configuration.terraform-state] |resource
|https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_public_access_block[aws_s3_bucket_public_access_block.block] |resource
|https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_server_side_encryption_configuration[aws_s3_bucket_server_side_encryption_configuration.terraform-state-bucket] |resource
|https://registry.terraform.io/providers/hashicorp/aws/latest/docs/resources/s3_bucket_versioning[aws_s3_bucket_versioning.state-bucket] |resource
|https://registry.terraform.io/providers/hashicorp/random/3.6.2/docs/resources/pet[random_pet.env] |resource
|===

== Inputs

[cols="a,a,a,a,a",options="header,autowidth"]
|===
|Name |Description |Type |Default |Required
|[[input_dynamodb]] <<input_dynamodb,dynamodb>>
|Name of the DynamoDB table
|

[source]
----
object({
    create_table         = optional(bool)
    table_name           = optional(string)
    table_hash_key       = optional(string)
    table_hash_key_type  = optional(string)
    read_capacity_units  = optional(number)
    write_capacity_units = optional(number)

  })
----

|n/a
|yes

|[[input_kms]] <<input_kms,kms>>
|Configuration for the KMS key
|

[source]
----
object({
    create_key       = optional(bool)
    key_desc         = optional(string)
    enable_rotation  = optional(bool)
    deletion_in_days = optional(number)
  })
----

|n/a
|yes

|[[input_provider_aws]] <<input_provider_aws,provider_aws>>
|Configuration passed to the Hashicorp/aws provider
|

[source]
----
object({
    region = optional(string)
  })
----

|n/a
|yes

|[[input_resource_tags]] <<input_resource_tags,resource_tags>>
|List of resource tags to be added to all created resources
|`map(string)`
|

[source]
----
{
  "managed_by": "terraform"
}
----

|no

|[[input_s3]] <<input_s3,s3>>
|Configuration of the S3 bucket where we will store remote state.
|

[source]
----
object({
    bucket_acl_policy = optional(bool)
    bucket_name       = optional(string)
    bucket_versioning = optional(string)
    bucket_key        = optional(string, "terraform/stacks/by-id/bucket/terraform.tfstate")
    bucket_default_retention = optional(object({
      mode = optional(string)
      days = optional(number)
    }))
    dynamodb_table       = optional(string)
    enable_object_lock   = optional(bool)
    enable_encryption    = optional(bool)
    force_destroy_bucket = optional(bool)

  })
----

|n/a
|yes

|===

== Outputs

[cols="a,a",options="header,autowidth"]
|===
|Name |Description
|[[output_bucket]] <<output_bucket,bucket>> |Map with s3 bucket-specific information
|[[output_dynamodb]] <<output_dynamodb,dynamodb>> |Map with dynamodb table-specific information
|[[output_s3_object]] <<output_s3_object,s3_object>> |Complete configuration of the S3 bucket created
|===
<!-- END_TF_DOCS -->